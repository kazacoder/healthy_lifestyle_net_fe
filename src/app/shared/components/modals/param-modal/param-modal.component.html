<div class="modal param-modal" [ngClass]="isOpened ? '_active _active2' : ''" id="paramModal">
  <div class="modal__bg modal-bg _close-modal" (click)="closeModal()"></div>
  <div class="modal__dialog _tabs-parent">
    <button class="close-btn _close-modal" (click)="closeModal()">
      <img src="assets/img/close2.svg" alt="">
    </button>
    <close-btn-mob (click)="closeModal()"></close-btn-mob>
    <div class="param-modal__top">
      <div class="modal__top text-center">
        <div class="tab-content _tab1 _active">
          <div class="text30 text20-tablet semi-bold-text">
            Параметры <span>мероприятия</span>
          </div>
        </div>
        <div class="tab-content _tab2">
          <div class="text30 text20-tablet semi-bold-text">
            Параметры <span>мастера</span>
          </div>
        </div>
      </div>
      <div class="tabs">
        <div class="tab _tab m-btn-bounce"
             [ngClass]="modalType === 'event' ? '_active' : ''"
             data-tab="_tab1" (click)="switchModalType('event')">
          <span>Мероприятие</span>
        </div>
        <div class="tab _tab m-btn-bounce"
             [ngClass]="modalType === 'master' ? '_active' : ''"
             data-tab="_tab2"  (click)="switchModalType('master')">
          <span>Мастер</span>
        </div>
      </div>
    </div>
    <div class="modal__scroll">
      <div class="tab-content _tab1" [ngClass]="modalType === 'event' ? '_active' : ''">
        <div class="param-modal__groups">
          <div class="param-field">
            <div class="param-field__title text20 font2 medium-text">
              Регион
            </div>
            <region-select></region-select>
          </div>
          <div class="param-group">
            <div class="param-group__title text20 font2 medium-text">
              Формат мероприятия
            </div>
            <div class="param-group__items">
              <div class="radio-btn" *ngFor="let format of formatOption.slice(0, 3)">
                <input [(ngModel)]="formatChosen"
                       [value]="format.id"
                       type="radio"
                       name="eventFormat">
                <label>{{ format.title }}</label>
              </div>
            </div>
          </div>
          <div class="param-group">
            <div class="param-group__title text20 font2 medium-text">
              Тип мероприятия
            </div>
            <div class="param-group__items">
              <div class="radio-btn" *ngFor="let type of typeOption">
                <input [(ngModel)]="typeChosen"
                       [value]="type.id"
                       type="radio"
                       name="eventType">
                <label>{{ type.title }}</label>
              </div>
            </div>
          </div>
          <div class="param-group">
            <div class="param-group__title text20 font2 medium-text">
              Для кого
            </div>
            <div class="param-group__items">
              <div class="radio-btn">
                <input [(ngModel)]="suitChosen" value="all" type="radio" name="eventSex">
                <label>Всех</label>
              </div>
              <div class="radio-btn">
                <input [(ngModel)]="suitChosen" value="3" type="radio" name="eventSex">
                <label>Мужчин</label>
              </div>
              <div class="radio-btn">
                <input [(ngModel)]="suitChosen" value="2" type="radio" name="eventSex">
                <label>Женщин</label>
              </div>
            </div>
          </div>
        </div>
        <div class="param-modal__groups">
          <div class="param-group">
            <div class="param-group__title text20 font2 medium-text">
              Создатель мероприятия
            </div>
            <div class="param-group__items">
              <div class="radio-btn">
                <input type="radio" [(ngModel)]="creatorChosen" value="all" name="eventMaker">
                <label>Все</label>
              </div>
              <div class="radio-btn">
                <input type="radio" [(ngModel)]="creatorChosen" value="master" name="eventMaker">
                <label>Мастер</label>
              </div>
              <div class="radio-btn">
                <input type="radio" [(ngModel)]="creatorChosen" value="user" name="eventMaker">
                <label>Пользователь</label>
              </div>
            </div>
          </div>
        </div>
        <div class="param-duration">
          <div class="param-duration__title text20 font2 medium-text">
            Длительность мероприятия
          </div>
          <div class="param-duration__view1">
            <div class="filter-slider" data-min="1" data-max="6">
              <div class="filter-slider__item">
                <div class="range-slider event"></div>
                <input type="hidden" class="range-slider__input">
              </div>
              <div class="filter-slider__bottom _flex-between slider-0" style="display: none">
              </div>
            </div>
          </div>
          <div class="param-duration__view2">
            <div class="param-select _mob-top" [ngClass]="{_open: dropdown.durationOpen}">
              <div class="param-select__show" (click)="toggleCategoryDropdown('durationOpen')">
                <div class="param-select__current">
                  {{ duration.title }}
                </div>
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.00134 14.5C8.90968 14.5001 8.8189 14.4821 8.73422 14.447C8.64954 14.4119 8.57263 14.3604 8.50791 14.2955L1.52875 7.31639C1.25604 7.04368 1.25604 6.60207 1.52875 6.32953C1.80146 6.057 2.24307 6.05682 2.5156 6.32953L9.00134 12.8153L15.4871 6.32953C15.7598 6.05682 16.2014 6.05682 16.4739 6.32953C16.7465 6.60224 16.7466 7.04385 16.4739 7.31639L9.49476 14.2955C9.43004 14.3604 9.35313 14.4119 9.26845 14.447C9.18377 14.4821 9.093 14.5001 9.00134 14.5Z" fill="black"/>
                </svg>
              </div>
              <div class="param-select__hidden">
                <div class="param-select__items">
                  <div class="param-select__option m-check" *ngFor="let option of durationOption">
                    <input type="radio"
                           [(ngModel)]="duration"
                           (ngModelChange)="choseDurationOption(option)"
                           [value]="option"
                           name="eventDuration">
                    <label><span>{{ option.title }}</span></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="param-category publication-category">
          <div class="publication-category__top">
            <div class="text20 font2 medium-text">
              Категория мероприятия
            </div>
          </div>
          <div class="param-category__view1">
            <div class="publication-category__items _flex">
              <div class="m-badge" *ngFor="let cat of chosenCategories">
                <img src="{{ cat.image }}" alt="">
                <span>{{ cat.title }}</span>
                <button class="m-badge__remove" (click)="removeCategory(cat)">
                  <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.5 1L13.5 13" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" />
                    <path d="M13.5 1L1.5 13" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" />
                  </svg>
                </button>
              </div>
            </div>
            <div class="publication-category__items2 _flex">
              <div class="publication-category__item" *ngFor="let category of categories"
                   (click)="choseCategory(category)">
                <img src="{{ category.image }}" alt="">
                <span>{{ category.title }}</span>
              </div>
              </div>
          </div>
          <div class="param-category__view2">
            <div class="param-select _mob-top" [ngClass]="{_open: dropdown.categoryOpen}">
              <div class="param-select__show" (click)="toggleCategoryDropdown('categoryOpen')">
                <div class="param-select__current">
                  {{ chosenCategories.length > 0
                  ? chosenCategories.length > 1 ? chosenCategories[0].title + ", +" + (chosenCategories.length - 1) : chosenCategories[0].title
                  : "Выбрать" }}
                </div>
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.00134 14.5C8.90968 14.5001 8.8189 14.4821 8.73422 14.447C8.64954 14.4119 8.57263 14.3604 8.50791 14.2955L1.52875 7.31639C1.25604 7.04368 1.25604 6.60207 1.52875 6.32953C1.80146 6.057 2.24307 6.05682 2.5156 6.32953L9.00134 12.8153L15.4871 6.32953C15.7598 6.05682 16.2014 6.05682 16.4739 6.32953C16.7465 6.60224 16.7466 7.04385 16.4739 7.31639L9.49476 14.2955C9.43004 14.3604 9.35313 14.4119 9.26845 14.447C9.18377 14.4821 9.093 14.5001 9.00134 14.5Z" fill="black"/>
                </svg>
              </div>
              <div class="param-select__hidden">
                <div class="fg search-field">
                  <input type="text" placeholder="Поиск по категориям">
                  <img src="assets/img/search.svg" alt="" class="search-field__icon">
                </div>
                <div class="param-select__items">
                  <div class="param-select__option m-check"
                       *ngFor="let category of categoriesInitial">
                    <input type="checkbox"
                           [(ngModel)]="category.selected"
                           (ngModelChange)="choseCategory(category)"
                           [value]="category">
                    <label><span>{{ category.title }}</span></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="param-modal__nav">
          <button class="param-modal__btn m-btn m-btn-gray m-btn-bounce" (click)="clear()">
            <span>Сбросить</span>
          </button>
          <button class="param-modal__btn param-modal__btn--confirm m-btn m-btn-primary m-btn-bounce" (click)="apply('events')">
            <span>Применить</span>
          </button>
        </div>
      </div>
      <div class="tab-content _tab2" [ngClass]="modalType === 'master' ? '_active' : ''">
        <div class="param-modal__groups">
          <div class="param-field">
            <div class="param-field__title text20 font2 medium-text">
              Регион
            </div>
            <region-select></region-select>
          </div>
          <div class="param-group">
            <div class="param-group__title text20 font2 medium-text">
              Пол
            </div>
            <div class="param-group__items">
              <div class="radio-btn">
                <input [(ngModel)]="genderChosen" value="all" type="radio" name="sex">
                <label>Любой</label>
              </div>
              <div class="radio-btn">
                <input [(ngModel)]="genderChosen" value="female" type="radio" name="sex">
                <label>Женский</label>
              </div>
              <div class="radio-btn">
                <input [(ngModel)]="genderChosen" value="male" type="radio" name="sex">
                <label>Мужской</label>
              </div>
            </div>
          </div>
          <div class="param-group">
            <div class="param-group__title text20 font2 medium-text">
              Формат мероприятия
            </div>
            <div class="param-group__items">
              <div class="radio-btn" *ngFor="let format of formatOption.slice(0, 3)">
                <input [(ngModel)]="formatChosen"
                       [value]="format.id"
                       type="radio"
                       name="eventFormat2">
                <label>{{ format.title }}</label>
              </div>
            </div>
          </div>
        </div>
        <div class="param-duration">
          <div class="param-duration__title text20 font2 medium-text">
            Стаж
          </div>
          <div class="param-duration__view1">
            <div class="filter-slider filter-slider2" data-min="1" data-max="5">
              <div class="filter-slider__item">
                <div class="range-slider master"></div>
                <input type="hidden" class="range-slider__input">
              </div>
              <div class="filter-slider__bottom _flex-between slider-1" style="display: none">
              </div>
            </div>
          </div>
          <div class="param-duration__view2">
            <div class="param-select _mob-top" [ngClass]="{_open: dropdown.experienceOpen}">
              <div class="param-select__show" (click)="toggleCategoryDropdown('experienceOpen')">
                <div class="param-select__current">
                  {{ experience.title }}
                </div>
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.00134 14.5C8.90968 14.5001 8.8189 14.4821 8.73422 14.447C8.64954 14.4119 8.57263 14.3604 8.50791 14.2955L1.52875 7.31639C1.25604 7.04368 1.25604 6.60207 1.52875 6.32953C1.80146 6.057 2.24307 6.05682 2.5156 6.32953L9.00134 12.8153L15.4871 6.32953C15.7598 6.05682 16.2014 6.05682 16.4739 6.32953C16.7465 6.60224 16.7466 7.04385 16.4739 7.31639L9.49476 14.2955C9.43004 14.3604 9.35313 14.4119 9.26845 14.447C9.18377 14.4821 9.093 14.5001 9.00134 14.5Z" fill="black"/>
                </svg>
              </div>
              <div class="param-select__hidden">
                <div class="param-select__items">
                  <div class="param-select__option m-check" *ngFor="let option of experienceOption">
                    <input type="radio"
                           [(ngModel)]="experience"
                           (ngModelChange)="choseExperienceOption(option)"
                           [value]="option"
                           name="experienceDuration">
                    <label><span>{{ option.title }}</span></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="param-category publication-category">
          <div class="publication-category__top">
            <div class="text20 font2 medium-text">
              Вид деятельности
            </div>
          </div>
          <div class="param-category__view1">
            <div class="publication-category__items _flex">
              <div class="m-badge" *ngFor="let spec of chosenSpecialities">
                <span>{{ spec.title }}</span>
                <button class="m-badge__remove" (click)="removeSpeciality(spec)">
                  <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.5 1L13.5 13" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" />
                    <path d="M13.5 1L1.5 13" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" />
                  </svg>
                </button>
              </div>
            </div>
            <div class="publication-category__items2 _flex">
              <div class="publication-category__item" *ngFor="let speciality of specialities"
                   (click)="choseSpeciality(speciality)">
                <img src="assets/img/plus2.svg" alt="">
                <span>{{ speciality.title }}</span>
              </div>
            </div>
          </div>
          <div class="param-category__view2">
            <div class="param-select _mob-top" [ngClass]="{_open: dropdown.specialityOpen}">
              <div class="param-select__show" (click)="toggleCategoryDropdown('specialityOpen')">
                <div class="param-select__current">
                  {{ chosenSpecialities.length > 0
                  ? chosenSpecialities.length > 1 ? chosenSpecialities[0].title + ", +" + (chosenSpecialities.length - 1) : chosenSpecialities[0].title
                  : "Выбрать" }}
                </div>
                <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.00134 14.5C8.90968 14.5001 8.8189 14.4821 8.73422 14.447C8.64954 14.4119 8.57263 14.3604 8.50791 14.2955L1.52875 7.31639C1.25604 7.04368 1.25604 6.60207 1.52875 6.32953C1.80146 6.057 2.24307 6.05682 2.5156 6.32953L9.00134 12.8153L15.4871 6.32953C15.7598 6.05682 16.2014 6.05682 16.4739 6.32953C16.7465 6.60224 16.7466 7.04385 16.4739 7.31639L9.49476 14.2955C9.43004 14.3604 9.35313 14.4119 9.26845 14.447C9.18377 14.4821 9.093 14.5001 9.00134 14.5Z" fill="black"/>
                </svg>
              </div>
              <div class="param-select__hidden">
                <div class="fg search-field">
                  <input type="text" placeholder="Поиск по категориям">
                  <img src="assets/img/search.svg" alt="" class="search-field__icon">
                </div>
                <div class="param-select__items">
                  <div class="param-select__option m-check"
                       *ngFor="let speciality of specialitiesInitial">
                    <input type="checkbox"
                           [(ngModel)]="speciality.selected"
                           (ngModelChange)="choseSpeciality(speciality)"
                           data-value="Любой">
                    <label><span>{{ speciality.title }}</span></label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="param-modal__nav">
          <button class="param-modal__btn m-btn m-btn-gray m-btn-bounce" (click)="clear()">
            <span>Сбросить</span>
          </button>
          <button class="param-modal__btn param-modal__btn--confirm m-btn m-btn-primary m-btn-bounce" (click)="apply('masters')">
            <span>Применить</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
